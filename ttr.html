<!DOCTYPE html>
<html ng-app="myApp">
    <head>
        <title>TTR-Rechner</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="author" content="Janos Wortmann">
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
        <link rel="icon" type="image/png" href="favicon.png">
        <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
        <link rel="stylesheet" type="text/css" href="css/shariff.min.css">
        <link rel="stylesheet" type="text/css" href="css/materialize.min.css">
        <link rel="stylesheet" type="text/css" href="css/style.css">
        <script type="text/javascript" src="https://code.jquery.com/jquery-3.0.0.min.js"></script>
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
        <script type="text/javascript" src="js/materialize.min.js"></script>
        <script type="text/javascript" src="js/angular-materialize.min.js"></script>
        <script src="js/app.js"></script>

        <script type="text/javascript">$(document).ready(function(){$('select').material_select();});</script>
        <script type="text/javascript">$(document).ready(function(){$('.modal-trigger').leanModal();});</script>

        <style type="text/css">
            @font-face {
                font-family: "Titillium Web";
                font-style: normal;
                font-weight: 400;
                src: local("Titillium Web"),
                     local("TitilliumWeb-Regular"),
                     url("/fonts/TitilliumWeb.woff") format("woff"),
                     url("/fonts/TitilliumWeb.ttf") format("truetype"),
                     url(https://fonts.gstatic.com/s/titilliumweb/v4/7XUFZ5tgS-tD6QamInJTcdGU7DQ8I6RFMlK0vgclk7w.woff) format("woff");
            }

            body {
                font-family: "Titillium Web", sans-serif;
                font-style: normal;
                font-weight: 400;
                font-size: 16px;
            }

            #blue_bg {
                background-color: #4CAF50;
            }

            a:hover {
                color: rgb(52, 52, 52);
            }

            a.link, .tab>.title, #contact_card>.tab>.title {
                color: #FF6E40;
            }

            a.link:hover {
                color: #FF9E80;
            }

            #fab {
                background-color: #FF6E40;
            }

            #fab:hover {
                background-color: #FF9E80;
            }

            .btn {
                background-color: #4CAF50;
            }

            .btn:hover {
                background-color: #66BB6A;
            }

            span.badge.new {
                background-color: #BDBDBD;
            }

            fieldset {
                border: none;
                margin-bottom: 20px;
            }

            label {
                font-weight: 400;
            }

            input, select {
                text-align: center;
            }

            .input-field input[type=number]:focus {
                border-bottom: 1px solid #616161;
                box-shadow: 0 1px 0 0 #616161;
            }

            input[type='number'] {
                -moz-appearance:textfield;
            }

            input[type=number]::-webkit-inner-spin-button, 
            input[type=number]::-webkit-outer-spin-button { 
                -webkit-appearance: none; 
                margin: 0; 
            }

            .dropdown-content li > span {
                color: #388E3C;
            }

            .input-field label, .output-label {
                color: rgb(97, 97, 97);
            }

            .output-label {
                text-align: right;
            }

            .output-data {
                color: rgb(33, 33, 33);
                text-align: center;
            }

            #btn-add {
                width: 100%;
            }

            a#btn-add:hover {
                color: #FFFFFF;
            }

            .shariff ul {
                justify-content: center;
            }
        </style>
    </head>

    <body>
        <div id="blue_bg"></div>

        <header>
            <div id="quick_card" class="card">
                <div><img id="photo" src="img/ttr.jpg" /></div>
                <h1 id="name">TTR-Rechner</h1>
                <h2 id="description">Mit dem TTR-Rechner lassen sich Veränderungen des eigenen TTR-Wertes nach einem gespielten Meisterschaftsspiel oder Turnier berechnen</h2>
            </div>
        </header>

        <main>
            <div id="about_card" class="card">
                <form class="form-horizontal" role="form" ng-controller="myController">
                    <section class="tab">
                        <div class="title"><i class="fa fa-pencil"></i>Eingabedaten</div>
                        <div class="content">
                            <section class="element">
                                <fieldset>
                                    <div class="input-field">
                                        <label for="input1">Dein aktueller TTR-Wert:</label>
                                        <input name="input1" class="form-control validate" type="number" value="" ng-model="ttr0" ng-keyup="calc()" />
                                    </div>

                                    <div class="input-field">
                                        <select name="input2" class="form-control" ng-model="ak" ng-change="calc()" convert-to-number>
                                            <option selected>16</option>
                                            <option>20</option>
                                            <option>24</option>
                                            <option>28</option>
                                            <option>32</option>
                                        </select>
                                        <label for="input2">Deine Änderungskonstante:</label>
                                    </div>

                                    <div class="input-field" ng-repeat="o in opp">
                                        <label for="input_gegner{{o.n}}">TTR-Wert Gegner {{o.n}}:</label>
                                        <input name="input_gegner{{o.n}}" class="form-control validate" type="number" ng-model="o.ttr" ng-keyup="calc()" />
                                    </div>

                                    <div class="input-field">
                                        <a id="btn-add" href="" class="btn waves-effect waves-light" ng-click="add()">weiteren Gegner hinzufügen</a>
                                    </div>
                                </fieldset>
                            </section>
                        </div>
                    </section>

                    <section class="tab">
                        <div class="title" style="margin-bottom: 15px"><i class="fa fa-calculator"></i>Berechnete Werte</div>
                        <div class="content">
                            <section class="element" ng-repeat="w in wins">
                                <div class="row">
                                    <div class="output-label col s9 l7">Neuer TTR-Wert bei <ng-pluralize count="w.n" when="{'one': '{} Sieg:', 'other': '{} Siegen:'}"></ng-pluralize></div>
                                    <div class="output-data col s3 l5" ng-if="w.dttr < 0">{{w.ttr}}<span class="new badge red" data-badge-caption="">{{w.dttr}}</span></div>
                                    <div class="output-data col s3 l5" ng-if="w.dttr == 0">{{w.ttr}}<span class="new badge gray" data-badge-caption="">{{w.dttr}}</span></div>
                                    <div class="output-data col s3 l5" ng-if="w.dttr > 0">{{w.ttr}}<span class="new badge green" data-badge-caption="">{{w.dttr}}</span></div>
                                </div>
                            </section>

                            <hr>

                            <section class="element" ng-repeat="o in opp">
                                <div class="row">
                                    <div class="output-label col s9 l7">Gewinnwahrscheinlichkeit Gegner {{o.n}}:</div>
                                    <div class="output-data col s3 l5">{{o.gwr}}</div>
                                </div>
                            </section>
                        </div>
                    </section>
                </form>
            </div>

            <div id="contact_card" class="card">
                <section class="tab">
                    <div class="title"><i class="fa fa-share-alt"></i>Diese Seite teilen</div>
                    <div class="content">
                        <section class="element">
                            <div style="width: 150px; margin: 0 auto;">
                                <div class="shariff" data-lang="de" data-orientation="horizontal" data-theme="circle-grey" data-title="TTR-Rechner" data-services="[&quot;facebook&quot;,&quot;twitter&quot;,&quot;googleplus&quot;]"></div>
                            </div>
                        </section>
                    </div>
                </section>

                <!-- <section class="tab">
                    <div class="title"><i class="fa fa-paypal"></i>Spenden</div>
                    <div class="content">
                        <section class="element">
                            <a class="btn-flat waves-effect waves-green" href="https://www.paypal.me/jwortmann">Mit PayPal spenden</a>
                        </section>
                    </div>
                </section> -->
            </div>

            <a class="modal-trigger" href="#info">
                <div id="fab">&nbsp;<i class="fa fa-info"></i>&nbsp;</div>
            </a>

            <div id="info" class="modal" tabindex="-1">
                <div class="modal-content">
                    <h4>Info</h4>
                    <p>Tragen Sie Ihren TTR-Wert sowie die Werte Ihrer Gegner in die dafür vorgesehenen Textfelder ein.
                    Die Veränderung Ihres Wertes wird automatisch berechnet und unten angezeigt. Bei Bedarf können beliebig
                    viele weitere Gegner hinzugefügt werden.</p>
                    <p>Zur Grundlage der Berechnung siehe <a class="link" href="http://www.mytischtennis.de/public/imagedata/20150801-Beschreibung-der-JOOLA-Rangliste.pdf">Beschreibung der JOOLA-Rangliste</a> (PDF, Stand 01.08.2015) auf myTischtennis.de.</p>
                </div>
                <div class="modal-footer">
                    <a href="" class="btn-flat modal-action modal-close waves-effect waves-green">Schließen</a>
                </div>
            </div>
        </main>

        <script src="js/shariff.min.js"></script>
    </body>
</html>